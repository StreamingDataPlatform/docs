<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/docs/blog/rss.xml" title="Dell EMC Streaming Data Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/atom.xml" title="Dell EMC Streaming Data Platform Blog Atom Feed"><title data-react-helmet="true">Pravega Flink Tools | Dell EMC Streaming Data Platform</title><meta data-react-helmet="true" property="og:url" content="https://StreamingDataPlatform.github.io//docs/docs/sdp/edge/pravega-flink-tools"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Pravega Flink Tools | Dell EMC Streaming Data Platform"><meta data-react-helmet="true" name="description" content="Pravega Flink Tools is a collection of Apache Flink applications for working with Pravega streams."><meta data-react-helmet="true" property="og:description" content="Pravega Flink Tools is a collection of Apache Flink applications for working with Pravega streams."><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://StreamingDataPlatform.github.io//docs/docs/sdp/edge/pravega-flink-tools"><link data-react-helmet="true" rel="alternate" href="https://StreamingDataPlatform.github.io//docs/docs/sdp/edge/pravega-flink-tools" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://StreamingDataPlatform.github.io//docs/docs/sdp/edge/pravega-flink-tools" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.a6478483.css">
<link rel="preload" href="/docs/assets/js/styles.f827be18.js" as="script">
<link rel="preload" href="/docs/assets/js/runtime~main.1f238f90.js" as="script">
<link rel="preload" href="/docs/assets/js/main.2101d833.js" as="script">
<link rel="preload" href="/docs/assets/js/1.24f62156.js" as="script">
<link rel="preload" href="/docs/assets/js/2.5262fdfd.js" as="script">
<link rel="preload" href="/docs/assets/js/96.1f7090b4.js" as="script">
<link rel="preload" href="/docs/assets/js/97.6e0135f2.js" as="script">
<link rel="preload" href="/docs/assets/js/935f2afb.01ec2221.js" as="script">
<link rel="preload" href="/docs/assets/js/17896441.a343ff30.js" as="script">
<link rel="preload" href="/docs/assets/js/aba4477c.114428e8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.dell.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/docs/img/logo.svg" alt="Dell Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/logo.svg" alt="Dell Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/sdp/overview">Docs</a><a class="navbar__item navbar__link" href="/docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pravega/pravega" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://www.dell.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/docs/img/logo.svg" alt="Dell Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/logo.svg" alt="Dell Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/docs/sdp/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/pravega/pravega" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Streaming Data Platform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/sdp/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/sdp/about">About</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Installation and Administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/install/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/install/guide">Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/troubleshooting/overview">Overview</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Developer&#x27;s Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/developer-guide/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/developer-guide/guide">Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Analytics</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Flink</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/analytics/flink/overview">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Spark</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/analytics/spark/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/analytics/spark/deploying">Deploying</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/analytics/spark/troubleshooting">Troubleshooting</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Security Configuration Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/security-configuration/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/sdp/security-configuration/guide">Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">SDP on Edge</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/sdp/edge/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/sdp/edge/solution-architecture">Solution Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/sdp/edge/pravega-sensor-collector">Pravega Sensor Collector</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/docs/sdp/edge/pravega-flink-tools">Pravega Flink Tools</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Pravega</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/overview">Pravega Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/getting-started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Understanding Pravega</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/pravega-concepts">Pravega Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/terminology">Terminology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/key-features">Pravega Key Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/faq">Frequently Asked Questions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/segment-store-service">Pravega Segment Store Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/segment-containers">Segment Containers in a Pravega Cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/controller-service">Pravega Controller Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/wire-protocol">Pravega Streaming Service Wire Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/state-synchronizer-design">State Synchronizer Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/reader-group-design">Reader Groups Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/watermarking">Watermarking</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Developing Pravega Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/pravega-write-read-methods">Methods for Writing and Reading Pravega Streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/javadoc">Java API Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/rest/restapis">Pravega Controller APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/connectors">Pravega Connectors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/basic-reader-and-writer">Basic Reader and Writer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/state-synchronizer">State Synchronizer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/transactions">Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/streamcuts">StreamCuts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Running Pravega</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/deployment/deployment">Pravega Deployment Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/deployment/manual-install">Manual Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/deployment/kubernetes-install">Deploying in Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/deployment/docker-swarm">Deploying in a Docker Swarm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/deployment/dcos-install">Deploying on DC/OS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/deployment/aws-install">Running on AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/metrics">Pravega Metrics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pravega Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/auth/auth-plugin">Implementation of Pravega Authentication/Authorization Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/auth/client-auth">Client Auth Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/security/pravega-security-authorization-authentication">TLS, Authorization, Authentication - Enabling encryption, authorization and authentication features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/security/pravega-security-configurations">Pravega Security Configurations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/security/pravega-security-encryption">Pravega Encryption</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/security/securing-distributed-mode-cluster">Setting Up Security for a Distributed Mode Cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Contributing to Pravega</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/contributing">Contributing to Pravega</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/roadmap">Pravega Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/pravega/join-community">Join the Pravega Community</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Connectors</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Flink</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/quickstart">Quick Start</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/streaming">Streaming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/batch">Batch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/table-api">Table API</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/configurations">Configurations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flink-connectors/serialization">Serialization</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Spark</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/prepare-development-environment">Prepare Development Environment</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/tutorial-1-writing-to-pravega">Tutorial 1 - Writing to Pravega</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/tutorial-2-reading-from-pravega">Tutorial 2 - Reading from Pravega</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/samples">Samples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/build-connector">Building the Connector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/limitations">Limitations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/spark-connectors/learn-more">Learn More</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/pravega/nifi-pravega" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">NiFi</a></li><li class="menu__list-item"><a href="https://github.com/pravega?q=logstash" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Logstash</a></li><li class="menu__list-item"><a href="https://github.com/pravega/boomi-connector" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Boomi</a></li><li class="menu__list-item"><a href="https://github.com/pravega/kafka-adapter" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Kafka Adapter</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Pravega Flink Tools</h1></header><div class="markdown"><p>Pravega Flink Tools is a collection of Apache Flink applications for working with Pravega streams.</p><p>It provides the following Flink jobs:</p><ul><li><strong>stream-to-file</strong>: Continuously copy a Pravega stream to text files on S3, HDFS, or any other Flink-supported file system</li><li><strong>stream-to-parquet-file</strong>: Continuously copy a Pravega stream to Parquet files on S3, HDFS, or any other Flink-supported file system</li><li><strong>stream-to-csv-file</strong>: Continuously copy a Pravega stream to CSV files on S3, HDFS, or any other Flink-supported file system</li><li><strong>stream-to-stream</strong>: Continuously copy a Pravega stream to another Pravega stream, even on a different Pravega cluster</li><li><strong>stream-to-console</strong>: Continuously show the contents of a Pravega stream in a human-readable log file</li><li><strong>sample-data-generator</strong>: Continuously write synthetic data to Pravega for testing</li></ul><p>Each job uses <a href="https://ci.apache.org/projects/flink/flink-docs-stable/ops/state/checkpoints.html" target="_blank" rel="noopener noreferrer">Flink checkpoints</a> to provide exactly-once guarantees, ensuring that events
are never missed nor duplicated.
They automatically recover from failures and resume where they left off.
They can use parallelism for high-volume streams with multiple segments.</p><p>Pravega Flink Tools is 100% open source and community-driven. The source code is available on <a href="https://raw.githubusercontent.com/pravega/flink-tools" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><ul><li><p>Java JDK 8.x.
On Ubuntu, this can be installed with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> openjdk-8-jdk</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>A <a href="http://pravega.io" target="_blank" rel="noopener noreferrer">Pravega</a> installation</p></li><li><p>The deployment scripts in this project are designed to work with
<strong>Dell EMC Streaming Data Platform</strong> (SDP).
These Flink tools may also be used in other Flink installations,
including open-source, although the exact
deployment methods depend on your environment and are not documented here.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stream-to-console-continuously-show-the-contents-of-a-pravega-stream-in-a-human-readable-log-file"></a>Stream-to-Console: Continuously show the contents of a Pravega stream in a human-readable log file<a class="hash-link" href="#stream-to-console-continuously-show-the-contents-of-a-pravega-stream-in-a-human-readable-log-file" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h3><p>This Flink job will continuously print the events in a Pravega stream.
Events must consist of UTF-8 strings, such as JSON or CSV.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-locally-with-gradle"></a>Run Locally with Gradle<a class="hash-link" href="#run-locally-with-gradle" title="Direct link to heading">#</a></h3><p>Use the command below to run the Flink job directly with Gradle.
All job parameters must be specified within the Gradle <code>--args</code> argument.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew -PmainClass</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">io.pravega.flinktools.StreamToConsoleJob </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">flink-tools:run </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--args</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--input-stream examples/sample1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--input-startAtTail true \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The contents of the Pravega stream will be displayed in the console along
with a variety of informational messages.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stream-to-file-continuously-copying-a-pravega-stream-to-text-files"></a>Stream-to-File: Continuously copying a Pravega stream to text files<a class="hash-link" href="#stream-to-file-continuously-copying-a-pravega-stream-to-text-files" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview-1"></a>Overview<a class="hash-link" href="#overview-1" title="Direct link to heading">#</a></h3><p>This Flink job will continuously copy a Pravega stream to a set of text files
on S3, HDFS, NFS, or any other Flink-supported file system.
It uses Flink checkpoints to provide exactly-once guarantees, ensuring that events
are never missed nor duplicated.
It automatically recovers from failures and resumes where it left off.
It can use parallelism for high-volume streams with multiple segments.</p><p>By default, it writes a new file every 1 minute.
Files are written using the following directory structure.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-59</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--19/part-0-60</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--19/part-0-61</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For simplicity, the current implementation assumes that events are UTF-8 strings such as CSV or JSON.
When written to text files, each event will be followed by a new line.
No other transformation is performed by this job.
For binary events, you will need to customize the Flink job with the appropriate serialization classes.</p><p>Flink offers many options for customizing the behavior when writing files.
Refer to <a href="https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/connectors/streamfile_sink.html" target="_blank" rel="noopener noreferrer">Steaming File Sink</a>
for details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-to-sdp-using-the-sdp-ui"></a>Deploy to SDP using the SDP UI<a class="hash-link" href="#deploy-to-sdp-using-the-sdp-ui" title="Direct link to heading">#</a></h3><p>Below shows how to deploy this Flink job using the SDP UI.
If you would rather use a more automated deployment method, skip to the next section.</p><ol><li><p>Build the JAR file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew clean shadowJar</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Upload the artifact:</p><ul><li>group: io.pravega</li><li>artifact: flink-tools</li><li>version: 0.2.0</li><li>file: flink-tools/build/libs/pravega-flink-tools-0.2.0.jar</li></ul></li><li><p>Create Flink Cluster.</p><ul><li>Name: stream-to-file</li><li>Flink Image: 1.10.2-2.12-hadoop2.8.3 (1.10.2-2.12)</li><li>Replicas: 1</li><li>Task Slots: 1</li></ul></li><li><p>Create New App.</p><ul><li>Name: stream-to-file</li><li>Artifact: io.pravega:fliink-tools:0.2.0</li><li>Main Class: io.pravega.flinktools.StreamToFileJob</li><li>Cluster Selectors: name: stream-to-file</li><li>Parallelism: 1</li><li>Flink Version: 1.10.2-2.12</li><li>Add Parameters:<ul><li>output: hdfs://hadoop-hadoop-hdfs-nn.examples.svc.cluster.local:9000/tmp/sample1</li><li>scope: examples (This should match your SDP project name.)</li></ul></li><li>Add Stream:<ul><li>input-stream: sample1</li></ul></li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-to-sdp-using-helm"></a>Deploy to SDP using Helm<a class="hash-link" href="#deploy-to-sdp-using-helm" title="Direct link to heading">#</a></h3><ol><li><p>If you will be using HDFS, you must install the Flink cluster image that includes the Hadoop client library.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts/flink-image-install.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Copy the file <code>scripts/env-sample.sh</code> to <code>scripts/env-local.sh</code>
or any other destination.
This script will contain parameters for your environment.
Edit the file as follows.</p><p>a. Enter your Kubernetes namespace that contains your Pravega stream (NAMESPACE).
This is the name of your analytics project.</p><p>Example file <code>scripts/env-local.sh</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">NAMESPACE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">examples</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Copy the sample values file from <code>values/samples/sample1-stream-to-aws-s3-job.yaml</code> or
<code>values/samples/sample1-stream-to-hdfs-job.yaml</code> to
<code>values/local/my-stream-to-file-job.yaml</code> or any other destination.
You may name this file anything, but you must use alphanumeric characters and dashes only.</p></li><li><p>Edit this file to use your Pravega stream name and output directory.
You can also change the checkpoint interval, which is how often events
will be written to the files.</p></li><li><p>Launch the Flink job using Helm.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts/jobs/stream-to-file-job.sh values/local/my-stream-to-file-job.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>To copy additional streams, repeat steps 3 to 5.</p></li><li><p>To stop the job and delete all associated state:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">helm del my-stream-to-file-job -n </span><span class="token variable" style="color:rgb(191, 199, 213)">${NAMESPACE}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stream-to-parquet-file-continuously-copying-a-pravega-stream-to-parquet-files"></a>Stream-to-Parquet-File: Continuously copying a Pravega stream to Parquet files<a class="hash-link" href="#stream-to-parquet-file-continuously-copying-a-pravega-stream-to-parquet-files" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview-2"></a>Overview<a class="hash-link" href="#overview-2" title="Direct link to heading">#</a></h3><p>This Flink job will continuously copy a Paravega stream to a set of
<a href="https://en.wikipedia.org/wiki/Apache_Parquet" target="_blank" rel="noopener noreferrer">Apache Parquet</a> files
on S3, HDFS, NFS, or any other Flink-supported file system.</p><p>Apache Parquet is a column-oriented data storage format of the Apache Hadoop ecosystem.
It provides efficient data compression and encoding schemes with enhanced performance to handle complex data in bulk.</p><p>This Flink job uses Flink checkpoints to provide exactly-once guarantees, ensuring that events
are never missed nor duplicated.
It automatically recovers from failures and resumes where it left off.
It can use parallelism for high-volume streams with multiple segments.</p><p>Input events must be in JSON format.
To ensure that JSON events can be reliable converted to Parquet, you must specify the
<a href="http://avro.apache.org/docs/1.8.2/spec.html" target="_blank" rel="noopener noreferrer">Apache Avro schema</a> that corresponds to the JSON events.</p><p>By default, it will compress the data in Snappy format and write a new file every 1 minute.
Files are written using the following directory structure.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--18/part-0-59</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--19/part-0-60</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sample1/2020-05-10--19/part-0-61</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="flattening-records"></a>Flattening records<a class="hash-link" href="#flattening-records" title="Direct link to heading">#</a></h3><p>When writing to Parquet files, the input JSON events can be optionally transformed
using a flatten operation.</p><p>When enabled, input JSON events in this format</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;RemoteAddr&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;gw3001&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;Timestamp&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1597883617606</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1597883617616</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1597883617626</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;X&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0.2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;Y&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">-0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">-0.2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;Z&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">9.9</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">9.8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">9.7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>will be written with this structure.</p><table><thead><tr><th>RemoteAddr</th><th>Timestamp</th><th>X</th><th>Y</th><th>Z</th></tr></thead><tbody><tr><td>gw3001</td><td>1597883617606</td><td>0.0</td><td>0.0</td><td>9.9</td></tr><tr><td>gw3001</td><td>1597883617616</td><td>0.1</td><td>-0.1</td><td>9.8</td></tr><tr><td>gw3001</td><td>1597883617626</td><td>0.2</td><td>-0.2</td><td>9.7</td></tr></tbody></table><p>All fields containing arrays must have the same number of elements.
All non-array fields will be duplicated on each record.</p><p>This flatten transformation can be enabled by setting the <code>flatten</code> parameter to <code>true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-to-sdp"></a>Deploy to SDP<a class="hash-link" href="#deploy-to-sdp" title="Direct link to heading">#</a></h3><p>Refer to the method described in the Stream-to-File section.
Use the script <code>scripts/jobs/stream-to-parquet-file-job.sh</code> and a values file similar to
<code>values/samples/sample1-stream-to-parquet-hdfs-job.yaml</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-view-parquet-files"></a>How to view Parquet files<a class="hash-link" href="#how-to-view-parquet-files" title="Direct link to heading">#</a></h3><p>If the Parquet file is located on a standard Linux file system (including NFS),
you can use a command similar to the following to view the content.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts/parquet-tools.sh </span><span class="token function" style="color:rgb(130, 170, 255)">cat</span><span class="token plain"> /tmp/sample1-parquet/2020-08-19--03/part-0-887</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>If the Parquet file is located on an HDFS cluster in Kubernetes,
you can use commands similar to the following to view the content.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts/hadoop-bash.sh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@hadoop-8c428aa0-76c0-4f42-8bea-2fc1e8300f78:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://repo1.maven.org/maven2/org/apache/parquet/parquet-tools/1.11.1/parquet-tools-1.11.1.jar</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hadoop jar parquet-tools-1.11.1.jar </span><span class="token function" style="color:rgb(130, 170, 255)">cat</span><span class="token plain"> hdfs://hadoop-hadoop-hdfs-nn.examples.svc.cluster.local:9000/tmp/sample1-parquet/2020-08-19--03/part-0-887</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stream-to-csv-file-continuously-copying-a-pravega-stream-to-csv-files"></a>Stream-to-CSV-File: Continuously copying a Pravega stream to CSV files<a class="hash-link" href="#stream-to-csv-file-continuously-copying-a-pravega-stream-to-csv-files" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview-3"></a>Overview<a class="hash-link" href="#overview-3" title="Direct link to heading">#</a></h3><p>This Flink job will continuously copy a Paravega stream to a set of
comma-separated value (CSV) files on S3, HDFS, NFS, or any other Flink-supported file system.</p><p>Like Stream-to-Parquet-File, input events must be in JSON format
and the corresponding Avro schema must be specified.
Additionally, events can be deduplicated and flattened if needed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-locally-with-gradle-1"></a>Run Locally with Gradle<a class="hash-link" href="#run-locally-with-gradle-1" title="Direct link to heading">#</a></h3><p>Use the command below to run the Flink job directly with Gradle.
All job parameters must be specified within the Gradle <code>--args</code> argument.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew -PmainClass</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">io.pravega.flinktools.StreamToCsvFileJob </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">flink-tools:run </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--args</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--input-stream examples/sample1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--input-startAtTail false \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--output /tmp/sample1.csv \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--avroSchemaFile ../test/SampleEvent.avsc \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--flatten false \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--logOutputRecords true \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="writing-to-an-nfs-volume"></a>Writing to an NFS volume<a class="hash-link" href="#writing-to-an-nfs-volume" title="Direct link to heading">#</a></h2><p>Use this procedure to configure the Flink Stream to File job to write to any Kubernetes Persistent Volume, such as a remote NFS volume.</p><ol><li><p>Create a Persistent Volume and a Persistent Volume Claim.</p><p>a. Edit <code>values/nfs-samples/external-nfs-pv.yaml</code> and
<code>values/nfs-samples/external-nfs-pv.yaml</code>.</p><p>b. Create objects.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">NAMESPACE</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">examples</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f values/nfs-samples/external-nfs-pv.yaml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f values/nfs-samples/external-nfs-pvc.yaml -n </span><span class="token variable" style="color:rgb(191, 199, 213)">${NAMESPACE}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Configure extra NFS mount in <code>values/samples/sample1-stream-to-nfs-job.yaml</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jobManager:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  volumeMounts:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - mountPath: /mnt/nfs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      name: extra-volume</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">taskManager:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  volumeMounts:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - mountPath: /mnt/examples-sample</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      name: extra-volume</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Configure mount path in values/samples/sample1-stream-to-nfs-job.yaml</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">output: &quot;/mnt/nfs&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Deploy Flink job for NFS.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts/jobs/stream-to-file-job.sh values/samples/sample1-stream-to-nfs-job.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stream-to-stream-continuously-copying-a-pravega-stream-to-another-pravega-stream"></a>Stream-to-Stream: Continuously copying a Pravega stream to another Pravega stream<a class="hash-link" href="#stream-to-stream-continuously-copying-a-pravega-stream-to-another-pravega-stream" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview-4"></a>Overview<a class="hash-link" href="#overview-4" title="Direct link to heading">#</a></h3><p>This Flink job will continuously copy a Pravega stream to another Pravega stream.
It uses Flink checkpoints to provide exactly-once guarantees, ensuring that events
are never missed nor duplicated.
It automatically recovers from failures and resumes where it left off.
It can use parallelism for high-volume streams with multiple segments.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-to-sdp-1"></a>Deploy to SDP<a class="hash-link" href="#deploy-to-sdp-1" title="Direct link to heading">#</a></h3><p>Refer to the method described in the Stream-to-File section.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sample-data-generator"></a>Sample data generator<a class="hash-link" href="#sample-data-generator" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview-5"></a>Overview<a class="hash-link" href="#overview-5" title="Direct link to heading">#</a></h3><p>This Flink job continuously generates synthetic JSON events and writes them to a Pravega stream.
It can be used for testing the other applications.
The event size and event rate can be specified as parameters.</p><p>Events are in the format shown below.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;sensorId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token property">&quot;eventNumber&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token property">&quot;timestamp&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">1591294714504</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token property">&quot;timestampStr&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2020-06-04 18:18:34.504&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;xxxxx...&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-locally-with-gradle-2"></a>Run Locally with Gradle<a class="hash-link" href="#run-locally-with-gradle-2" title="Direct link to heading">#</a></h3><p>Use the command below to run the Flink job directly with Gradle.
All job parameters must be specified within the Gradle <code>--args</code> argument.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew -PmainClass</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">io.pravega.flinktools.SampleDataGeneratorJob </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">flink-tools:run </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--args</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">--output-stream examples/sample1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-to-sdp-using-the-sdp-ui-1"></a>Deploy to SDP using the SDP UI<a class="hash-link" href="#deploy-to-sdp-using-the-sdp-ui-1" title="Direct link to heading">#</a></h3><p>Below shows how to deploy this Flink job using the SDP UI.</p><ol><li><p>Build the JAR file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew clean shadowJar</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Upload the artifact:</p><ul><li>group: io.pravega</li><li>artifact: flink-tools</li><li>version: 0.2.0</li><li>file: flink-tools/build/libs/pravega-flink-tools-0.2.0.jar</li></ul></li><li><p>Create Flink Cluster.</p><ul><li>Name: sample-data-generator-job</li><li>Label:<ul><li>key: name</li><li>value: sample-data-generator-job</li></ul></li><li>Flink Image: 1.10.2-2.12 (1.10.2-2.12)</li><li>Replicas: 1</li><li>Task Slots: 1</li></ul></li><li><p>Create New App.</p><ul><li>Name: sample-data-generator-job</li><li>Artifact: io.pravega:fliink-tools:0.2.0</li><li>Main Class: io.pravega.flinktools.SampleDataGeneratorJob</li><li>Cluster Selectors: name: sample-data-generator-job</li><li>Parallelism: 1</li><li>Flink Version: 1.10.2-2.12</li><li>Add Parameters:<ul><li>scope: examples (This should match your SDP project name.)</li></ul></li><li>Add Stream:<ul><li>output-stream: sample1 (Select the stream to write to.)</li></ul></li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-to-sdp-using-helm-1"></a>Deploy to SDP using Helm<a class="hash-link" href="#deploy-to-sdp-using-helm-1" title="Direct link to heading">#</a></h3><p>Refer to the method described in the Stream-to-file section.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deduplication-of-events"></a>Deduplication of events<a class="hash-link" href="#deduplication-of-events" title="Direct link to heading">#</a></h2><p>Although Pravega provides exactly-once semantics, some event sources may not fully utilize
these features and these may produce duplicate events in some failure cases.
The jobs in Pravega Flink Tools can use the stateful functionality of Flink to
remove duplicates when writing to the output stream or file.</p><p>This functionality requires the following:</p><ul><li><p>The events must be JSON objects such as
<code>{&quot;key1&quot;: 1, &quot;counter&quot;: 10, &quot;value1&quot;: 100}</code>.</p></li><li><p>The events must have one or more key columns, such as &quot;key1&quot; in the above example.
Each key may be any JSON data type, including strings, numbers, arrays, and objects.</p></li><li><p>The event must have a counter column, such as &quot;counter&quot; in the above example.
It must be a numeric data type. A 64-bit long integer is recommended.</p></li><li><p>For each unique key, the counter <em>must</em> be ascending.
If the counter decreases or repeats, the event is considered a duplicate and it is logged and dropped.</p></li></ul><p>Beware of using a timestamp for the counter.
A clock going backwards due to a manual time correction or a leap second may result in data being dropped.
Events produced faster than the clock resolution may also be dropped.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="enabling-deduplication"></a>Enabling deduplication<a class="hash-link" href="#enabling-deduplication" title="Direct link to heading">#</a></h2><ol><li><p>Set the parameter <code>keyFieldNames</code> to a list of JSON field names for the keys, separated by commas.</p></li><li><p>Set the parameter <code>counterFieldName</code> to the JSON field name for the counter.</p></li></ol><p>If either of these parameters is empty, deduplication will be disabled, which is the default behavior.</p><p>When deduplication is enabled, any errors when parsing the JSON or accessing the keys or counter
will be logged and the event will be discarded.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploying-to-sdp-using-helm-without-internet-access"></a>Deploying to SDP using Helm without Internet access<a class="hash-link" href="#deploying-to-sdp-using-helm-without-internet-access" title="Direct link to heading">#</a></h2><p>This procedure can be used to automate the deployment of the Flink jobs on a system without Internet access.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="build-the-installation-archive"></a>Build the installation archive<a class="hash-link" href="#build-the-installation-archive" title="Direct link to heading">#</a></h3><p>This must be executed on a build host that has Internet access.
This will download all dependencies and create a single archive that can be copied to an offline SDP system.</p><ol><li><p>On the build host, build the installation archive.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">user@build-host:~$</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/pravega/flink-tools</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> flink-tools</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts/build-installer.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This will create the installation archive <code>build/installer/flink-tools-${APP_VERSION}.tgz</code>.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-using-the-installation-archive"></a>Deploy using the installation archive<a class="hash-link" href="#deploy-using-the-installation-archive" title="Direct link to heading">#</a></h3><ol><li><p>The only prerequisite on the SDP system is Java 8.x.
On Ubuntu, this can be installed with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> openjdk-8-jdk</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Copy the installation archive to the SDP system, then extract it.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">user@sdp-host:~/desdp$</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -xzf flink-tools-*.tgz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> flink-tools</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Continue with the procedure in the section <a href="#deploy-to-sdp-using-helm">Deploy to SDP using Helm</a>.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="github-release-procedure"></a>Github Release Procedure<a class="hash-link" href="#github-release-procedure" title="Direct link to heading">#</a></h2><p>Follow these steps to release a new version of Flink Tools to Github Releases.</p><ol><li><p>Increment APP_VERSION in <code>scripts/env.sh</code>.</p></li><li><p>Run the following commands.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> scripts/env.sh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> commit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> tag </span><span class="token function" style="color:rgb(130, 170, 255)">v</span><span class="token variable" style="color:rgb(191, 199, 213)">${APP_VERSION}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> push --tags</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Monitor Travis CI at
<a href="https://travis-ci.com/github/pravega/flink-tools" target="_blank" rel="noopener noreferrer">https://travis-ci.com/github/pravega/flink-tools</a>.</p></li><li><p>When complete, the installation archive will be available at
<a href="https://github.com/pravega/flink-tools/releases" target="_blank" rel="noopener noreferrer">https://github.com/pravega/flink-tools/releases</a>.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="references"></a>References<a class="hash-link" href="#references" title="Direct link to heading">#</a></h2><ul><li><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/connectors/streamfile_sink.html" target="_blank" rel="noopener noreferrer">Steaming File Sink</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="see-also"></a>See Also<a class="hash-link" href="#see-also" title="Direct link to heading">#</a></h2><ul><li><a href="https://github.com/pravega/pravega-sensor-collector" target="_blank" rel="noopener noreferrer">https://github.com/pravega/pravega-sensor-collector</a></li><li><a href="https://www.pravega.io/" target="_blank" rel="noopener noreferrer">https://www.pravega.io/</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="about"></a>About<a class="hash-link" href="#about" title="Direct link to heading">#</a></h2><p>Pravega Flink Tools is 100% open source and community-driven. All components are available
under <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache 2 License</a> on GitHub.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docs/sdp/edge/pravega-sensor-collector"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Pravega Sensor Collector</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/docs/pravega/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pravega Overview Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#stream-to-console-continuously-show-the-contents-of-a-pravega-stream-in-a-human-readable-log-file" class="table-of-contents__link">Stream-to-Console: Continuously show the contents of a Pravega stream in a human-readable log file</a><ul><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#run-locally-with-gradle" class="table-of-contents__link">Run Locally with Gradle</a></li></ul></li><li><a href="#stream-to-file-continuously-copying-a-pravega-stream-to-text-files" class="table-of-contents__link">Stream-to-File: Continuously copying a Pravega stream to text files</a><ul><li><a href="#overview-1" class="table-of-contents__link">Overview</a></li><li><a href="#deploy-to-sdp-using-the-sdp-ui" class="table-of-contents__link">Deploy to SDP using the SDP UI</a></li><li><a href="#deploy-to-sdp-using-helm" class="table-of-contents__link">Deploy to SDP using Helm</a></li></ul></li><li><a href="#stream-to-parquet-file-continuously-copying-a-pravega-stream-to-parquet-files" class="table-of-contents__link">Stream-to-Parquet-File: Continuously copying a Pravega stream to Parquet files</a><ul><li><a href="#overview-2" class="table-of-contents__link">Overview</a></li><li><a href="#flattening-records" class="table-of-contents__link">Flattening records</a></li><li><a href="#deploy-to-sdp" class="table-of-contents__link">Deploy to SDP</a></li><li><a href="#how-to-view-parquet-files" class="table-of-contents__link">How to view Parquet files</a></li></ul></li><li><a href="#stream-to-csv-file-continuously-copying-a-pravega-stream-to-csv-files" class="table-of-contents__link">Stream-to-CSV-File: Continuously copying a Pravega stream to CSV files</a><ul><li><a href="#overview-3" class="table-of-contents__link">Overview</a></li><li><a href="#run-locally-with-gradle-1" class="table-of-contents__link">Run Locally with Gradle</a></li></ul></li><li><a href="#writing-to-an-nfs-volume" class="table-of-contents__link">Writing to an NFS volume</a></li><li><a href="#stream-to-stream-continuously-copying-a-pravega-stream-to-another-pravega-stream" class="table-of-contents__link">Stream-to-Stream: Continuously copying a Pravega stream to another Pravega stream</a><ul><li><a href="#overview-4" class="table-of-contents__link">Overview</a></li><li><a href="#deploy-to-sdp-1" class="table-of-contents__link">Deploy to SDP</a></li></ul></li><li><a href="#sample-data-generator" class="table-of-contents__link">Sample data generator</a><ul><li><a href="#overview-5" class="table-of-contents__link">Overview</a></li><li><a href="#run-locally-with-gradle-2" class="table-of-contents__link">Run Locally with Gradle</a></li><li><a href="#deploy-to-sdp-using-the-sdp-ui-1" class="table-of-contents__link">Deploy to SDP using the SDP UI</a></li><li><a href="#deploy-to-sdp-using-helm-1" class="table-of-contents__link">Deploy to SDP using Helm</a></li></ul></li><li><a href="#deduplication-of-events" class="table-of-contents__link">Deduplication of events</a></li><li><a href="#enabling-deduplication" class="table-of-contents__link">Enabling deduplication</a></li><li><a href="#deploying-to-sdp-using-helm-without-internet-access" class="table-of-contents__link">Deploying to SDP using Helm without Internet access</a><ul><li><a href="#build-the-installation-archive" class="table-of-contents__link">Build the installation archive</a></li><li><a href="#deploy-using-the-installation-archive" class="table-of-contents__link">Deploy using the installation archive</a></li></ul></li><li><a href="#github-release-procedure" class="table-of-contents__link">Github Release Procedure</a></li><li><a href="#references" class="table-of-contents__link">References</a></li><li><a href="#see-also" class="table-of-contents__link">See Also</a></li><li><a href="#about" class="table-of-contents__link">About</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/sdp/overview">SDP Docs</a></li><li class="footer__item"><a href="https://www.dell.com/support/kbdoc/en-us/000124079/dell-emc-streaming-data-platform-infohub" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDP InfoHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/pravega" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/pravega" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/pravega" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/blog">SDP Blog</a></li><li class="footer__item"><a href="https://blog.pravega.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pravega Blog</a></li><li class="footer__item"><a href="https://github.com/pravega/pravega" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pravega GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Dell</div></div></div></footer></div>
<script src="/docs/assets/js/styles.f827be18.js"></script>
<script src="/docs/assets/js/runtime~main.1f238f90.js"></script>
<script src="/docs/assets/js/main.2101d833.js"></script>
<script src="/docs/assets/js/1.24f62156.js"></script>
<script src="/docs/assets/js/2.5262fdfd.js"></script>
<script src="/docs/assets/js/96.1f7090b4.js"></script>
<script src="/docs/assets/js/97.6e0135f2.js"></script>
<script src="/docs/assets/js/935f2afb.01ec2221.js"></script>
<script src="/docs/assets/js/17896441.a343ff30.js"></script>
<script src="/docs/assets/js/aba4477c.114428e8.js"></script>
</body>
</html>